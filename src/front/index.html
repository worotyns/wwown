<html>

  <head>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
      <script defer src="https://unpkg.com/@shaun/alpinejs-router@1.x.x/dist/es6.min.js"></script>
      <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
      <script src="main.js"></script>
  </head>

  <body x-cloak x-init="$router.config({ mode: 'hash' })">
      <h3 style="text-align: center;">who works on what now?</h3>
      <nav style="text-align: center;">
        <a x-link href="/resources">Resources</a><span> | </span>
        <a x-link href="/">Dashboard</a>
      </nav>

      <template x-route="/" template="/dashboard.html"></template>
      <template x-route="/resources" template="/resources.html"></template>
      <template x-route="/channels/:channel_id" template="/channel.html"></template>
      <template x-route="/users/:user_id" template="/user.html"></template>

      <section style="text-align: center" 
        x-data="{currentSeconds: 0, refreshSeconds: 300}" 
        x-init="setInterval(() => currentSeconds === refreshSeconds ? window.location.reload() : currentSeconds++, 1000)">
        <template x-for="i in 100 - Math.ceil((currentSeconds / refreshSeconds) * 100)">
          <small>.</small>
        </template>
      </section>

  </body>
</html>